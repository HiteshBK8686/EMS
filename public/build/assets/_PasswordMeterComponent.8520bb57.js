var g=Object.defineProperty;var k=(o,t,e)=>t in o?g(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(k(o,typeof t!="symbol"?t+"":t,e),e);import{D as m}from"./app.6cf530fe.js";const u={minLength:8,checkUppercase:!0,checkLowercase:!0,checkDigit:!0,checkChar:!0,scoreHighlightClass:"active"},h={componentName:"password-meter",instanseQuery:"[data-kt-password-meter]",inputQuery:"input[type]",visibilityQuery:'[data-kt-password-meter-control="visibility"]',highlightQuery:'[data-kt-password-meter-control="highlight"]'},c=class{constructor(t,e,s){i(this,"element");i(this,"inputElement");i(this,"visibilityElement");i(this,"highlightElement");i(this,"options");i(this,"queries");i(this,"score");i(this,"checkSteps");i(this,"reset",()=>{this.score=0,this.highlight()});this.element=t,this.options=Object.assign(u,e),this.queries=s,this.score=0,this.checkSteps=5,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.visibilityElement=this.element.querySelector(this.queries.visibilityQuery),this.highlightElement=this.element.querySelector(this.queries.highlightQuery),this.handlers(),m.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement&&this.inputElement.addEventListener("input",()=>{this.check()}),this.visibilityElement&&this.visibilityElement.addEventListener("click",()=>{this.visitbility()})}visitbility(){if(this.visibilityElement&&this.inputElement){const t=this.visibilityElement.querySelector("i:not(.d-none), .svg-icon:not(.d-none)"),e=this.visibilityElement.querySelector("i.d-none, .svg-icon.d-none");(this.inputElement.getAttribute("type")||"")==="password"?this.inputElement.setAttribute("type","text"):this.inputElement.setAttribute("type","password"),t==null||t.classList.add("d-none"),e==null||e.classList.remove("d-none"),this.inputElement.focus()}}checkScore(){return 0}checkLength(){return this.inputElement?this.inputElement.value.length>=this.options.minLength:!1}checkLowerCase(){const t=this.inputElement?this.inputElement.value:"";return/[a-z]/.test(t)}checkUppercase(){const t=this.inputElement?this.inputElement.value:"";return/[A-Z]/.test(t)}checkDigit(){const t=this.inputElement?this.inputElement.value:"";return/[0-9]/.test(t)}checkChar(){const t=this.inputElement?this.inputElement.value:"";return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(t)}getCheckScore(){let t=1;return this.options.checkUppercase&&t++,this.options.checkLowercase&&t++,this.options.checkDigit&&t++,this.options.checkChar&&t++,this.checkSteps=t,100/this.checkSteps}highlight(){const t=this.highlightElement?[].slice.call(this.highlightElement.querySelectorAll("div")):[],e=t.length;let s=0;const a=this.getCheckScore(),l=this.getScore();t.map(n=>{s++,a*s*(this.checkSteps/e)<=l?n.classList.add("active"):n.classList.remove("active")})}getScore(){return this.score}check(){let t=0;const e=this.getCheckScore();this.checkLength()&&(t=t+e),this.options.checkUppercase&&this.checkLowerCase()&&(t=t+e),this.options.checkLowercase&&this.checkUppercase()&&(t=t+e),this.options.checkDigit&&this.checkDigit()&&(t=t+e),this.options.checkChar&&this.checkChar()&&(t=t+e),this.score=t,this.highlight()}};let r=c;i(r,"getInstance",(t,e=h.componentName)=>{const s=m.get(t,e);if(s)return s}),i(r,"createInstances",(t=h.instanseQuery,e=u,s=h)=>{document.body.querySelectorAll(t).forEach(l=>{const n=l;let p=c.getInstance(n);p||(p=new c(n,e,s))})}),i(r,"createInsance",(t=h.instanseQuery,e=u,s=h)=>{const a=document.body.querySelector(t);if(!a)return;const l=a;let n=c.getInstance(l);return n||(n=new c(l,e,s)),n}),i(r,"bootstrap",(t=h.instanseQuery)=>{c.createInstances(t)}),i(r,"reinitialization",(t=h.instanseQuery)=>{c.createInstances(t)});export{r as P};
