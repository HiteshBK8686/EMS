import{g}from"./assets.9f321430.js";import{d as h,a2 as v,aw as w,a3 as x,ai as k,ah as S,z as y,_ as B,r as i,f as F,p as e,w as d,o as A,j as s,H as u}from"./app.6cf530fe.js";import{S as m}from"./sweetalert2.dbadb588.js";import{c as C,a as f}from"./object.7f6bea12.js";const E=h({name:"sign-in",components:{Field:v,VForm:w,ErrorMessage:x},setup(){const t=k(),l=S(),o=y(null),c=C().shape({email:f().email().required().label("Email"),password:f().min(8).required().label("Password")});return{onSubmitLogin:async r=>{var n;r=r,t.logout(),o.value&&(o.value.disabled=!0,o.value.setAttribute("data-kt-indicator","on")),await t.login(r);const a=Object.values(t.errors);a.length===0?m.fire({text:"You have successfully logged in!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(()=>{l.push({name:"dashboard"})}):m.fire({text:a,icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}).then(()=>{t.errors={}}),(n=o.value)==null||n.removeAttribute("data-kt-indicator"),o.value.disabled=!1},login:c,submitButton:o,getAssetPath:g}}}),V={class:"w-lg-500px p-10"},P=s("div",{class:"text-center mb-10"},[s("h1",{class:"text-dark mb-3"},"Sign In")],-1),$={class:"fv-row mb-10"},T=s("label",{class:"form-label fs-6 fw-bold text-dark"},"Email",-1),L={class:"fv-plugins-message-container"},M={class:"fv-help-block"},N={class:"fv-row mb-10"},j={class:"d-flex flex-stack mb-2"},q=s("label",{class:"form-label fw-bold text-dark fs-6 mb-0"},"Password",-1),I={class:"fv-plugins-message-container"},O={class:"fv-help-block"},z={class:"text-center"},H={tabindex:"3",type:"submit",ref:"submitButton",id:"kt_sign_in_submit",class:"btn btn-lg btn-primary w-100 mb-5"},R=s("span",{class:"indicator-label"}," Continue ",-1),Y=s("span",{class:"indicator-progress"},[u(" Please wait... "),s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),D=[R,Y];function G(t,l,o,c,_,r){const a=i("Field"),n=i("ErrorMessage"),b=i("router-link"),p=i("VForm");return A(),F("div",V,[e(p,{class:"form w-100",id:"kt_login_signin_form",onSubmit:t.onSubmitLogin,"validation-schema":t.login},{default:d(()=>[P,s("div",$,[T,e(a,{tabindex:"1",class:"form-control form-control-lg form-control-solid",type:"text",name:"email",autocomplete:"off"}),s("div",L,[s("div",M,[e(n,{name:"email"})])])]),s("div",N,[s("div",j,[q,e(b,{to:"/password-reset",class:"link-primary fs-6 fw-bold"},{default:d(()=>[u(" Forgot Password ? ")]),_:1})]),e(a,{tabindex:"2",class:"form-control form-control-lg form-control-solid",type:"password",name:"password",autocomplete:"off"}),s("div",I,[s("div",O,[e(n,{name:"password"})])])]),s("div",z,[s("button",H,D,512)])]),_:1},8,["onSubmit","validation-schema"])])}const W=B(E,[["render",G]]);export{W as default};
