import{g as y,a as $}from"./assets.9f321430.js";import{h as T}from"./dom.fc3b38c7.js";import{ar as A,z as a,as as R,at as S,d as w,ah as C,v as V,x as B,_ as k,r as c,f as u,j as e,p as r,w as h,af as D,o as f,A as M,au as P,H as p,m as g}from"./app.6cf530fe.js";import{S as v}from"./sweetalert2.dbadb588.js";const N=A("role",()=>{const t=a({});a({});const s=a({}),i=a(!!R.getToken());function n(l){t.value={...l}}function d(l){return S.get("api/getPermission",l).then(({data:o})=>{console.log(o)}).catch(({response:o})=>{n(o.data.errors)})}return{errors:t,role:s,isAuthenticated:i,get_all_permission:d}}),U=w({name:"new-target-modal",components:{},setup(){const t=N();C();const s=a(null),i=a(null),n=a(!1),d=a({roleTitle:"",permission:[]}),l=a({roleTitle:[{required:!0,message:"Please input Activity name",trigger:"blur"}],permission:[{required:!0,message:"Please select Permissions",trigger:"change"}]}),o=()=>{!s.value||s.value.validate(b=>{if(b)n.value=!0,setTimeout(()=>{n.value=!1,v.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{T(i.value)})},2e3);else return v.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}),!1})},m=async()=>{await t.get_all_permission()};return V(()=>{B(()=>{m()})}),{targetData:d,submit:o,loading:n,formRef:s,rules:l,newTargetModalRef:i,getAssetPath:y}}});const q={class:"modal fade",id:"kt_modal_new_role",ref:"newTargetModalRef",tabindex:"-1","aria-hidden":"true"},E={class:"modal-dialog modal-dialog-centered mw-650px"},I={class:"modal-content rounded"},j={class:"modal-header pb-0 border-0 justify-content-end"},H={class:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal"},K={class:"modal-body scroll-y px-10 px-lg-15 pt-0 pb-15"},O=e("div",{class:"mb-13 text-center"},[e("h1",{class:"mb-3"},"Add New Role")],-1),z={class:"d-flex flex-column mb-8 fv-row"},F=e("label",{class:"d-flex align-items-center fs-6 fw-semobold mb-2"},[e("span",{class:"required"},"Target Title"),e("i",{class:"fas fa-exclamation-circle ms-2 fs-7","data-bs-toggle":"tooltip",title:"Specify a target name for future usage and reference"})],-1),J={class:"d-flex flex-stack mb-8"},G=e("div",{class:"me-5"},[e("label",{class:"fs-6 fw-semobold"},"Adding Users by Team Members")],-1),L={class:"form-check form-switch form-check-custom form-check-solid"},Q=e("span",{class:"form-check-label fw-semobold text-gray-400"}," Allowed ",-1),W={class:"text-center"},X=e("button",{type:"reset",id:"kt_modal_new_target_cancel",class:"btn btn-light me-3"}," Cancel ",-1),Y=["data-kt-indicator"],Z={key:0,class:"indicator-label"},ee={key:1,class:"indicator-progress"},te=e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function se(t,s,i,n,d,l){const o=c("KTIcon"),m=c("el-input"),b=c("el-form-item"),x=c("el-form");return f(),u("div",q,[e("div",E,[e("div",I,[e("div",j,[e("div",H,[r(o,{"icon-name":"cross","icon-class":"fs-1"})])]),e("div",K,[r(x,{id:"kt_modal_new_target_form",onSubmit:s[2]||(s[2]=D(_=>t.submit(),["prevent"])),model:t.targetData,rules:t.rules,ref:"formRef",class:"form"},{default:h(()=>[O,e("div",z,[F,r(b,{prop:"roleTitle"},{default:h(()=>[r(m,{modelValue:t.targetData.roleTitle,"onUpdate:modelValue":s[0]||(s[0]=_=>t.targetData.roleTitle=_),placeholder:"Enter Target Title",name:"roleTitle"},null,8,["modelValue"])]),_:1})]),e("div",J,[G,e("label",L,[M(e("input",{class:"form-check-input",type:"checkbox",value:"1","onUpdate:modelValue":s[1]||(s[1]=_=>t.targetData.permission=_)},null,512),[[P,t.targetData.permission]]),Q])]),e("div",W,[X,e("button",{"data-kt-indicator":t.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[t.loading?g("",!0):(f(),u("span",Z,[p(" Submit "),r(o,{"icon-name":"arrow-right","icon-class":"fs-3 ms-2 me-0"})])),t.loading?(f(),u("span",ee,[p(" Please wait... "),te])):g("",!0)],8,Y)])]),_:1},8,["model","rules"])])])])],512)}const oe=k(U,[["render",se]]),ae=w({name:"role",components:{RoleAdd:oe},setup(){return{getIllustrationsPath:$,getAssetPath:y}}}),ne={class:"card shadow-sm"},le={class:"card-header"},re=e("h3",{class:"card-title"},[p("User Role \xA0 "),e("button",{type:"button",class:"btn btn-sm btn-danger","data-bs-toggle":"modal","data-bs-target":"#kt_modal_new_role"}," Add New Role ")],-1),ie={class:"card-toolbar"},ce={class:"breadcrumb breadcrumb-line text-muted fs-6 fw-semibold"},de={class:"breadcrumb-item"},me=e("li",{class:"breadcrumb-item text-primary"},"User Role",-1),_e={class:"card-body"},ue={class:"row"},fe={class:"col-md-8 offset-2"},pe={class:"row"},be={class:"col-md-12"};function he(t,s,i,n,d,l){const o=c("router-link"),m=c("RoleAdd");return f(),u("div",ne,[e("div",le,[re,e("div",ie,[e("ol",ce,[e("li",de,[r(o,{to:"/",class:"text-muted text-hover-primary"},{default:h(()=>[p("Home")]),_:1})]),me])])]),e("div",_e,[e("div",ue,[e("div",fe,[e("div",pe,[e("div",be,[r(m)])])])])])])}const ke=k(ae,[["render",he]]);export{ke as default};
