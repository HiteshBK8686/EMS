import{g as b}from"./assets.9f321430.js";import{d as _,a2 as g,aw as h,a3 as v,ai as w,ah as x,z as y,v as k,x as P,_ as R,r as c,f as S,p as r,w as V,o as B,j as s,H as $}from"./app.6cf530fe.js";import{c as q,a as u,b as C}from"./object.7f6bea12.js";import{P as F}from"./_PasswordMeterComponent.8520bb57.js";import{S as f}from"./sweetalert2.dbadb588.js";const A=_({name:"sign-up",components:{Field:g,VForm:h,ErrorMessage:v},setup(){const a=w(),o=x(),n=y(null),d=q().shape({password:u().required().label("Password"),password_confirmation:u().required().oneOf([C("password"),null],"Both Passwords must be Same.").label("Password Confirmation")}),m=async()=>{let e=o.currentRoute.value.query.token,t=o.currentRoute.value.query.email;e==" "&&t==""&&o.push({name:"404"})};return k(()=>{P(()=>{F.bootstrap(),m()})}),{registration:d,onSubmitReset:async e=>{var i,l;e=e,a.logout(),n.value.disabled=!0,(i=n.value)==null||i.setAttribute("data-kt-indicator","on"),await a.passwordReset(e);const t=Object.values(a.errors);t.length===0?f.fire({text:"Password Reset Successfully, Kindly Login!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(function(){o.push({name:"sign-in"})}):f.fire({text:t,icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}),(l=n.value)==null||l.removeAttribute("data-kt-indicator"),n.value.disabled=!1},submitButton:n,getAssetPath:b}}}),M={class:"w-lg-500px p-10"},T=s("div",{class:"mb-10 text-center"},[s("h1",{class:"text-dark mb-3"},"Password Reset"),s("div",{class:"text-gray-400 fw-semobold fs-4"}," Your New Password Update ? ")],-1),U={class:"row fv-row mb-7"},E={class:"mb-10 fv-row","data-kt-password-meter":"true"},N={class:"mb-1"},O=s("label",{class:"form-label fw-bold text-dark fs-6"}," Password ",-1),j={class:"position-relative mb-3"},z={class:"fv-plugins-message-container"},H={class:"fv-help-block"},K=s("div",{class:"d-flex align-items-center mb-3","data-kt-password-meter-control":"highlight"},[s("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),s("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),s("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),s("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px"})],-1),L=s("div",{class:"text-muted"}," Use 8 or more characters with a mix of letters, numbers & symbols. ",-1),Y={class:"fv-row mb-5"},D=s("label",{class:"form-label fw-bold text-dark fs-6"},"Confirm Password",-1),G={class:"fv-plugins-message-container"},I={class:"fv-help-block"},J={class:"text-center"},Q={id:"kt_sign_up_submit",ref:"submitButton",type:"submit",class:"btn btn-lg btn-primary"},W=s("span",{class:"indicator-label"}," Submit ",-1),X=s("span",{class:"indicator-progress"},[$(" Please wait... "),s("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),Z=[W,X];function ss(a,o,n,d,m,p){const e=c("Field"),t=c("ErrorMessage"),i=c("VForm");return B(),S("div",M,[r(i,{class:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",novalidate:"",onSubmit:a.onSubmitReset,id:"kt_login_signup_form","validation-schema":a.registration},{default:V(()=>[T,s("div",U,[s("div",E,[r(e,{class:"form-control form-control-lg form-control-solid",type:"hidden",modelValue:this.$router.currentRoute.value.query.token,"onUpdate:modelValue":o[0]||(o[0]=l=>this.$router.currentRoute.value.query.token=l),name:"token"},null,8,["modelValue"]),r(e,{class:"form-control form-control-lg form-control-solid mb-2",type:"text",modelValue:this.$router.currentRoute.value.query.email,"onUpdate:modelValue":o[1]||(o[1]=l=>this.$router.currentRoute.value.query.email=l),name:"email",readonly:""},null,8,["modelValue"]),s("div",N,[O,s("div",j,[r(e,{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password",autocomplete:"off"}),s("div",z,[s("div",H,[r(t,{name:"password"})])])]),K]),L]),s("div",Y,[D,r(e,{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password_confirmation",autocomplete:"off"}),s("div",G,[s("div",I,[r(t,{name:"password_confirmation"})])])]),s("div",J,[s("button",Q,Z,512)])])]),_:1},8,["onSubmit","validation-schema"])])}const ns=R(A,[["render",ss]]);export{ns as default};
